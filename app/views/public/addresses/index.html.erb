<% if @address.errors.any? %>
  <h5><%= @address.errors.count %>件のエラーが発生しました</h5>
  <% @address.errors.full_messages.each do |message| %>
    <ul>
      <li><%= message %></li>
    </ul>
  <% end %>
<% end %>

<h5 class="m-5"><span class="bg-light">　配送先登録一覧　</span></h5>

<%= form_with model:@address,url:'/addresses',method: :post do |f| %>

<label for="postal">郵便番号（ハイフンなし）</label>
<%= f.text_field:postal_code,id:"postal",placeholder:"0000000" %><br>

<label for="address">住所</label>
<%= f.text_field:address,id:"address",placeholder:"東京都渋谷区代々木神園町0-0" %><br>

<label for="name">宛名</label>
<%= f.text_field:name,id:"name",placeholder:"令和道子" %>

<%= f.submit"新規登録" %>
<% end %>


<table>
  <tr>
    <th>郵便番号</th>
    <th>住所</th>
    <th>宛名</th>
    <th></th>
  </tr>

  <% @addresses.each do |address| %>
  <tr>
    <td><%= address.postal_code %></td>
    <td><%= address.address %></td>
    <td><%= address.name %></td>
    <td>
      <%= link_to "編集する",edit_address_path(address.id) %>
      <%= link_to "削除する",address_path(address.id),method: :delete,"data-confirm"=>"本当に削除しますか？" %>
    </td>
  </tr>
  <% end %>
</table>

